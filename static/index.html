<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, viewport-fit=cover">
  <meta name="description" content="Recherche semantique dans la Bible. Posez une question et trouvez les versets les plus pertinents.">
  <meta name="theme-color" content="#f5f0e8">
  <meta name="color-scheme" content="light">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Sondez les Ecritures">
  <title>« Sondez les Écritures »</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#x1F4D6;</text></svg>">
  <link rel="manifest" href="/static/manifest.json">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet" fetchpriority="high">
  <link rel="stylesheet" href="/static/styles.css">
  <script src="https://unpkg.com/htmx.org@2.0.4" defer></script>
  <script src="https://unpkg.com/embla-carousel@8.0.0/embla-carousel.umd.js" defer></script>
</head>
<body>
  <a href="#search-form" class="skip-link">Aller au formulaire de recherche</a>

  <div class="offline-banner hidden" role="status" aria-live="polite">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
         stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <line x1="1" y1="1" x2="23" y2="23"/><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"/><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"/><path d="M10.71 5.05A16 16 0 0 1 22.56 9"/><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"/><path d="M8.53 16.11a6 6 0 0 1 6.95 0"/><line x1="12" y1="20" x2="12.01" y2="20"/>
    </svg>
    Hors connexion - navigation en cache
  </div>

  <button type="button" class="sidebar-toggle" aria-label="Ouvrir l'historique" aria-expanded="false" aria-controls="history-sidebar">
    <svg class="sidebar-toggle-open" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
         stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/>
    </svg>
    <svg class="sidebar-toggle-close hidden" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
         stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <polyline points="15 18 9 12 15 6"/>
    </svg>
  </button>
  <div class="sidebar-backdrop hidden"></div>
  <aside id="history-sidebar" class="history-sidebar" role="complementary" aria-label="Historique des recherches">
    <h2 class="sidebar-title">Historique</h2>
    <div class="history-list"></div>
    <p class="history-empty">Vos recherches apparaitront ici</p>
    <p class="sidebar-version">v0.1.0</p>
  </aside>

  <header class="page-header" aria-label="Sondez les Écritures - Recherche sémantique">
    <h1>« Sondez les Écritures »</h1>
    <p class="verse-ref-header"><em>Jean 5:39</em></p>
    <p class="description">Posez une question sur la Bible et trouvez les versets les plus pertinents.</p>
  </header>

  <main>
    <form id="search-form" class="search-bar" role="search"
          hx-post="/search" hx-target="#results-container">
      <input
        type="search"
        name="query"
        id="query-input"
        class="search-input"
        placeholder="Recherchez dans la Bible..."
        aria-label="Rechercher dans la Bible"
        inputmode="search"
        autocomplete="off"
        maxlength="300"
        required
        autofocus
      >
      <button type="button" class="clear-button hidden" aria-label="Effacer">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </form>
    <div id="results-container" aria-live="polite">
      <div id="results-content"></div>
    </div>
  </main>

  <div hx-get="/health" hx-trigger="load" hx-swap="none" style="display:none;"></div>

  <script src="/static/app.js" defer></script>
</body>
</html>
